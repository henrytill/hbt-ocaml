(rule
 (deps templates/netscape_bookmarks.mustache)
 (targets templates.ml)
 (action
  (with-stdout-to
   %{targets}
   (run %{dep:gen_template.exe} %{dep:templates/netscape_bookmarks.mustache}))))

(executable
 (public_name gen-template)
 (name gen_template)
 (package hbt-core)
 (modules gen_template))

(library
 (name hbt)
 (public_name hbt-core)
 (libraries cmarkit ezjsonm markup mustache semver str unix uri xmlm yaml)
 (modules collection data entity html markdown pinboard prelude templates))
