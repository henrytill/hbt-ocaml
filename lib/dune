(rule
 (deps templates/netscape_bookmarks.jinja)
 (targets templates.ml)
 (action
  (with-stdout-to
   %{targets}
   (run %{dep:gen_template.exe} %{dep:templates/netscape_bookmarks.jinja}))))

(executable
 (public_name gen-template)
 (name gen_template)
 (package hbt-core)
 (modules gen_template))

(library
 (name hbt)
 (public_name hbt-core)
 (libraries cmarkit ezjsonm jingoo markup semver str unix uri yaml)
 (modules collection markdown pinboard pinboard_internal prelude templates))
